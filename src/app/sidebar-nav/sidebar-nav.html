<div class="sidebar-content">
      <!-- System Title in Sidebar -->
      <a routerLink="/" class="sidebar-title">מערכת ניהול</a>

      <ng-container *ngIf="isLoggedInStatus$ | async as isLoggedInStatus">
        <ng-container *ngIf="currentUser$ | async as user">
          <ul class="nav-list">
            <!-- Navigation Links by Role -->
            <li *ngIf="user.role === 'admin' || user.role === 'member'">
              <a routerLink="/files" (click)="onLinkClick()" class="nav-link">
                <!-- Lucide Folder Icon -->
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="nav-icon lucide lucide-folder">
                  <path d="M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 8 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z"/>
                </svg>
                <span>ניהול קבצים</span>
              </a>
            </li>
            <li *ngIf="user.role === 'admin' || user.role === 'member'">
              <a routerLink="/image-gallery" (click)="onLinkClick()" class="nav-link">
                <!-- Lucide Image Icon -->
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="nav-icon lucide lucide-image">
                  <rect width="18" height="18" x="3" y="3" rx="2" ry="2"/>
                  <circle cx="9" cy="9" r="2"/>
                  <path d="m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21"/>
                </svg>
                <span>גלריית תמונות</span>
              </a>
            </li>
            
            <li *ngIf="user.role === 'admin' || user.role === 'member' || user.role === 'user'">
              <a routerLink="/events" (click)="onLinkClick()" class="nav-link">
                <!-- Lucide Calendar Icon -->
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="nav-icon lucide lucide-calendar">
                  <rect width="18" height="18" x="3" y="4" rx="2" ry="2"/>
                  <line x1="16" x2="16" y1="2" y2="6"/>
                  <line x1="8" x2="8" y1="2" y2="6"/>
                  <line x1="3" x2="21" y1="10" y2="10"/>
                </svg>
                <span>אירועים</span>
              </a>
            </li>
            
            <li *ngIf="user.role === 'admin'">
              <a routerLink="/events/admin" (click)="onLinkClick()" class="nav-link">
                <!-- Lucide CalendarCheck Icon -->
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="nav-icon lucide lucide-calendar-check">
                  <rect width="18" height="18" x="3" y="4" rx="2" ry="2"/>
                  <line x1="16" x2="16" y1="2" y2="6"/>
                  <line x1="8" x2="8" y1="2" y2="6"/>
                  <line x1="3" x2="21" y1="10" y2="10"/>
                  <path d="m9 16 2 2 4-4"/>
                </svg>
                <span>ניהול אירועים</span>
              </a>
            </li>

            <li *ngIf="user.role === 'user'">
              <a routerLink="/dashboard" (click)="onLinkClick()" class="nav-link">
                <!-- Lucide LayoutDashboard Icon -->
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="nav-icon lucide lucide-layout-dashboard">
                  <rect width="7" height="9" x="3" y="3" rx="1"/>
                  <rect width="7" height="5" x="14" y="3" rx="1"/>
                  <rect width="7" height="9" x="14" y="12" rx="1"/>
                  <rect width="7" height="5" x="3" y="16" rx="1"/>
                </svg>
                <span>לוח בקרה אישי</span>
              </a>
            </li>
          </ul>
        </ng-container>
        
        <!-- Login/Logout Buttons -->
        <div class="auth-buttons-container">
            <button *ngIf="isLoggedInStatus" (click)="onLogoutClick()" 
                    class="auth-button logout-button">
              <!-- Lucide LogOut Icon -->
              <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="auth-icon lucide lucide-log-out">
                <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"/>
                <polyline points="17 16 22 11 17 6"/>
                <line x1="22" x2="10" y1="11" y2="11"/>
              </svg>
              <span>התנתק</span>
            </button>
            <a *ngIf="!isLoggedInStatus" routerLink="/login" (click)="onLinkClick()"
               class="auth-button login-register-button">
              <!-- Lucide LogIn Icon -->
              <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="auth-icon lucide lucide-log-in">
                <path d="M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4"/>
                <polyline points="10 17 15 12 10 7"/>
                <line x1="15" x2="3" y1="12" y2="12"/>
              </svg>
              <span>התחבר / הירשם</span>
            </a>
        </div>
      </ng-container>
    </div>